[[cse]][[top]]

[width="100%",cols="<50%,>50%",]
|=======================================================================
a|
Understanding EclipseLink, *3.0* +

 a|
[cols=",^,,^,,^",]
|=======================================================================
|  |image:../../dcommon/images/contents.png[Go To Table Of
Contents,width=16,height=16] + | 
|link:../../[image:../../dcommon/images/search.png[Search] +
] | 
|link:../eclipselink_otlcg.pdf[image:../../dcommon/images/pdf_icon.png[PDF]]
|=======================================================================

|=======================================================================

'''''

[cols="^,^,",]
|=======================================================================
|link:cache004.htm[image:../../dcommon/images/larrow.png[Previous,width=16,height=16]]
|link:cache006.htm[image:../../dcommon/images/rarrow.png[Next,width=16,height=16]]
| 
|=======================================================================

[[i1128663]][[OTLCG93810]]

About Explicit Query Refreshes
------------------------------

Some distributed systems require only a small number of objects to be
consistent across the servers in the system. Conversely, other systems
require that several specific objects must always be guaranteed to be
up-to-date, regardless of the cost. If you build such a system, you can
explicitly refresh selected objects from the database at appropriate
intervals, without incurring the full cost of distributed cache
coordination.

To implement this type of strategy, do the following:

1.  Configure a set of queries that refresh the required objects.
2.  Establish an appropriate refresh policy.
3.  Invoke the queries as required to refresh the objects.

The `@Cache` annotation provides the `alwaysRefresh` and
`refreshOnlyIfNewer` attributes which force all queries that go to the
database to refresh the cache. The cache is only actually refreshed if
the optimistic lock value in the database is newer than in the cache.
For more information, see "Refreshing the Cache" in _Solutions Guide for
EclipseLink_.

When you execute a query, if the required objects are in the cache,
EclipseLink returns the cached objects without checking the database for
a more recent version. This reduces the number of objects that
EclipseLink must build from database results, and is optimal for
noncoordinated cache environments. However, this may not always be the
best strategy for a coordinated cache environment.

To override this behavior, set the `alwaysRefresh` attribute to specify
that the objects from the database always take precedence over objects
in the cache. This updates the cached objects with the data from the
database.

You can implement this type of refresh policy on each EclipseLink
entity, or just on certain queries, depending upon the nature of the
application.

'''''

[width="66%",cols="50%,^,>50%",]
|=======================================================================
a|
[width="96%",cols=",^50%,^50%",]
|=======================================================================
| 
|link:cache004.htm[image:../../dcommon/images/larrow.png[Previous,width=16,height=16]]
|link:cache006.htm[image:../../dcommon/images/rarrow.png[Next,width=16,height=16]]
|=======================================================================


|http://www.eclipse.org/eclipselink/[image:../../dcommon/images/ellogo.png[EclipseLink,width=150]] +
a|
[cols=",^,,^,,^",]
|=======================================================================
|  |image:../../dcommon/images/contents.png[Go To Table Of
Contents,width=16,height=16] + | 
|link:../../[image:../../dcommon/images/search.png[Search] +
] | 
|link:../eclipselink_otlcg.pdf[image:../../dcommon/images/pdf_icon.png[PDF]]
|=======================================================================

|=======================================================================

[[copyright]]
Copyright © 2012 by The Eclipse Foundation under the
http://www.eclipse.org/org/documents/epl-v10.php[Eclipse Public License
(EPL)] +
