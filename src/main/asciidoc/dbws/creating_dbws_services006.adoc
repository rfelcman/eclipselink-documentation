[[cse]][#top]##

[width="100%",cols="<50%,>50%",]
|===
|*Developing Persistence Architectures Using EclipseLink Database Web
Services* +
*Release 4.0* + a|
[width="99%",cols="20%,^16%,16%,^16%,16%,^16%",]
|===
|  |image:../../dcommon/images/contents.png[Go To Table Of
Contents,width=16,height=16] + | 
|link:../../[image:../../dcommon/images/search.png[Search] +
[.mini]##] | 
|link:../eclipselink_moxy.pdf[image:../../dcommon/images/pdf_icon.png[PDF]]
|===

|===

'''''

[cols="^,^,",]
|===
|link:creating_dbws_services005.htm[image:../../dcommon/images/larrow.png[Previous,width=16,height=16]]
|link:creating_dbws_services007.htm[image:../../dcommon/images/rarrow.png[Next,width=16,height=16]]
| 
|===

[#CJAFGHAH]####[#TLDBW177]####

== Creating from a Stored Function

EclipseLink DBWS can create a Web service that exposes a simple Stored
Function.

[#TLDBW178]##

[#sthref54]##

=== Example

In this example, the following stored function will be used:

[source,oac_no_warn]
----
DROP FUNCTION TESTECHO;
CREATE OR REPLACE FUNCTION TESTECHO(T IN VARCHAR2) RETURN VARCHAR2 IS retVal VARCHAR2
BEGIN
              retVal := CONCAT('test-' , T);
              RETURN retVal;
END TESTECHO;
 
----

The DBWSBuilder utility requires a DBWS configuration XML file as input,
as shown here:

[source,oac_no_warn]
----
<?xml version="1.0" encoding="UTF-8"?>
<dbws-builder xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <properties>
    <property name="projectName">testEcho</property>
    ... database properties
  </properties>
  <procedure
    name="testEcho"
    procedurePattern="TESTECHO"
    returnType="xsd:string"
  />
</dbws-builder>
 
----

Execute the *DBWSBuilder*, as shown here:

[source,oac_no_warn]
----
prompt > dbwsbuilder.cmd -builderFile dbws-builder.xml -stageDir output_directory -packageAs wls testEcho.war
 
----

where

* `dbws-builder.xml` is the DBWS builder configuration XML file above
* `output_directory` is the output directory for the generated files
* `-packageAs` the platform on which the web service will be deployed

'''''

[width="66%",cols="50%,^,>50%",]
|===
a|
[width="96%",cols=",^50%,^50%",]
|===
| 
|link:creating_dbws_services005.htm[image:../../dcommon/images/larrow.png[Previous,width=16,height=16]]
|link:creating_dbws_services007.htm[image:../../dcommon/images/rarrow.png[Next,width=16,height=16]]
|===

|http://www.eclipse.org/eclipselink/[image:../../dcommon/images/ellogo.png[EclipseLink,width=150]] +
a|
[width="99%",cols="20%,^16%,16%,^16%,16%,^16%",]
|===
|  |image:../../dcommon/images/contents.png[Go To Table Of
Contents,width=16,height=16] + | 
|link:../../[image:../../dcommon/images/search.png[Search] +
[.mini]##] | 
|link:../eclipselink_moxy.pdf[image:../../dcommon/images/pdf_icon.png[PDF]]
|===

|===

[[copyright]]
Copyright © 2014 by The Eclipse Foundation under the
http://www.eclipse.org/org/documents/epl-v10.php[Eclipse Public License
(EPL)] +
