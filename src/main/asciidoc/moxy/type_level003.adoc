[[cse]][#top]##

[width="100%",cols="<50%,>50%",]
|===
a|
Developing JAXB Applications Using EclipseLink MOXy, *Release 4.0* +

a|
[width="99%",cols="20%,^16%,16%,^16%,16%,^16%",]
|===
|  |image:../../dcommon/images/contents.png[Go To Table Of
Contents,width=16,height=16] + | 
|link:../../[image:../../dcommon/images/search.png[Search] +
[.mini]##] | 
|link:../eclipselink_moxy.pdf[image:../../dcommon/images/pdf_icon.png[PDF]]
|===

|===

'''''

[cols="^,^,",]
|===
|link:type_level002.htm[image:../../dcommon/images/larrow.png[Previous,width=16,height=16]]
|link:simple_values.htm[image:../../dcommon/images/rarrow.png[Next,width=16,height=16]]
| 
|===

[#CIHBIFIC]####[#TLJAX205]####

== Specifying Inheritance

EclipseLink MOXy provides several ways to represent your inheritance
hierarchy in XML:

* link:#BABGHADJ[Using xsi:type]
* link:#BABIICIB[Using Substitution Groups]
* link:#BABHIBJJ[Using @XmlDiscriminatorNode/@XmlDiscriminatorValue]

[#BABGHADJ]####[#TLJAX206]####

=== Using xsi:type

By default, EclipseLink will use the `xsi:type` attribute to represent
inheritance in XML.

In this example an abstract super class (*ContactInfo*) contains all
types of contact information. *Address* and *PhoneNumber* are the
concrete implementations of *ContactInfo*.

[#CIHCJDHH]####[#TLJAX207]####

*_Example 3-12 Sample Java Classes_*

[source,oac_no_warn]
----
public abstract class ContactInfo {
}
 
public class Address extends ContactInfo {
 
   private String street;
   ... 
 
}
 
public class PhoneNumber extends ContactInfo {
 
   private String number;
   ...
 
}
 
----

Because the *Customer* object can have different types of contact
information, its property refers to the superclass.

[source,oac_no_warn]
----
@XmlRootElement
public class Customer {
 
   private ContactInfo contactInfo;
   ... 
 
}
----

Marshalling an example *Customer* would produce the following XML:

[source,oac_no_warn]
----
<customer>
   <contactInfo 
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
      xsi:type="address">
      <street>323 Main Street</street>
   </contactInfo>
</customer>
 
----

Note the `xsi:type` attribute on the `contactInfo` element.

[#BABIICIB]####[#TLJAX208]####

=== Using Substitution Groups

Another way to model inheritance in XML is through XML Schema's
substitution groups functionality. Using this approach, the element name
_itself_ determines which subclass to use.

Taking the same link:#CIHCJDHH[Example 3-12], we will add
`@XmlRootElement` annotations to each of the subclasses, which will act
as the inheritance indicator.

[#CIHJCCEE]####[#TLJAX209]####

*_Example 3-13 Using @XmlRootElement Annotation_*

[source,oac_no_warn]
----
public abstract class ContactInfo {
}
 
@XmlRootElement
public class Address extends ContactInfo {
 
   private String street;
   ... 
 
}
 
@XmlRootElement
public class PhoneNumber extends ContactInfo {
 
   private String number;
   ...
 
}
 
----

Using this approach, marshalling an example *Customer* would produce the
following XML:

[source,oac_no_warn]
----
<customer>
   <address>
      <street>323 Main Street</street>
   </address>
</customer>
 
----

Note that the *Address* object is marshalled to the `address` element.

[#BABHIBJJ]####[#TLJAX210]####

=== Using @XmlDiscriminatorNode/@XmlDiscriminatorValue

You can also use the MOXY-specific `@XmlDiscriminatorNode` and
`@XmlDiscriminatorValue` annotations (introduced in EclipseLink 2.2) to
represent inheritance. With this approach, you can select the attribute
to represent the subtype.

Using link:#CIHJCCEE[Example 3-13], the *ContactInfo* class uses the
`@XmlDiscriminatorNod`e annotation to specify the XML attribute
(classifier) that will hold the subclass indicator. *Address* and
*PhoneNumber* are annotated with *@XmlDiscriminatorValue*, indicating
that class' indicator name (`address-classifier` and
`phone-number-classifier`).

[#CIHGABAC]####[#TLJAX211]####

*_Example 3-14 Using the @XmlDiscriminatorNode and
@XmlDiscriminatorValue Annotations_*

[source,oac_no_warn]
----
@XmlDiscriminatorNode("@classifier")
public abstract class ContactInfo {
}
 
@XmlDiscriminatorValue("address-classifier")
public class Address extends ContactInfo {
 
   private String street;
   ... 
 
}
 
@XmlDiscriminatorValue("phone-number-classifier")
public class PhoneNumber extends ContactInfo {
 
   private String number;
   ...
 
}
 
----

link:#CIHGABAC[Example 3-14] produces the following XML:

[source,oac_no_warn]
----
<customer>
   <contactInfo classifier="address-classifier">
      <street>323 Main Street</street>
   </contactInfo>
</customer>
----

Notice that *Address* is marshalled to the `contactInfo` element. Its
classifier attribute contains the discriminator node value
`address-classifier`.

'''''

[width="66%",cols="50%,^,>50%",]
|===
a|
[width="96%",cols=",^50%,^50%",]
|===
| 
|link:type_level002.htm[image:../../dcommon/images/larrow.png[Previous,width=16,height=16]]
|link:simple_values.htm[image:../../dcommon/images/rarrow.png[Next,width=16,height=16]]
|===

|http://www.eclipse.org/eclipselink/[image:../../dcommon/images/ellogo.png[EclipseLink,width=150]] +
a|
[width="99%",cols="20%,^16%,16%,^16%,16%,^16%",]
|===
|  |image:../../dcommon/images/contents.png[Go To Table Of
Contents,width=16,height=16] + | 
|link:../../[image:../../dcommon/images/search.png[Search] +
[.mini]##] | 
|link:../eclipselink_moxy.pdf[image:../../dcommon/images/pdf_icon.png[PDF]]
|===

|===

[[copyright]]
Copyright © 2013 by The Eclipse Foundation under the
http://www.eclipse.org/org/documents/epl-v10.php[Eclipse Public License
(EPL)] +
